# Shared shell environment for bash + nushell
# Keep this idempotent: safe to source multiple times

: "${JOEY:=/t9k/mnt/joey}"
: "${GIZMO:=${JOEY}/gizmo}"
: "${BIO_GIZMO:=${JOEY}/bio_gizmo}"
: "${NUSHELL_PATH:=${GIZMO}/nushell}"
: "${JSHELL:=${JOEY}/SHELL}"
: "${CARGO_HOME:=${HOME}/.cargo}"

_prepend_path() {
    [ -d "$1" ] || return 0
    case ":$PATH:" in *":$1:"*) ;; *) PATH="$1:$PATH";; esac
}
_prepend_path "$HOME/.local/bin"
_prepend_path "$CARGO_HOME/bin"
_prepend_path "$GIZMO"
_prepend_path "$BIO_GIZMO"
_prepend_path "$NUSHELL_PATH"
unset -f _prepend_path

export JOEY GIZMO BIO_GIZMO NUSHELL_PATH JSHELL CARGO_HOME PATH
